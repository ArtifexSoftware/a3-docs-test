(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{376:function(t,e,a){"use strict";a.r(e);var s=a(43),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("p",[t._v("Apostrophe 3 is currently in its alpha 1 release. You should build production projects with "),a("a",{attrs:{href:"https://docs.apostrophecms.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apostrophe 2"),a("OutboundLink")],1),t._v(".")])]),t._v(" "),a("h1",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),a("p",[t._v("This document is for Apostrophe 2.x developers who wish to try out Apostrophe 3.x and give feedback. We look forward to your input!")]),t._v(" "),a("h2",{attrs:{id:"getting-started"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-started"}},[t._v("#")]),t._v(" Getting Started")]),t._v(" "),a("p",[t._v("Grab the boilerplate project and give your project a name of its own. We're assuming "),a("code",[t._v("myproject")]),t._v(" here. Replace that with your own project name wherever you see it. Use a short name with only letters, digits and dashes.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git clone https://github.com/apostrophecms/a3-boilerplate myproject\ncd myproject\nnpm install\nnode app @apostrophecms/user:add admin\nnpm run dev\n")])])]),a("blockquote",[a("p",[t._v("Be sure to give the admin user a password when prompted.")])]),t._v(" "),a("p",[t._v("Now you can "),a("a",{attrs:{href:"http://localhost:3000",target:"_blank",rel:"noopener noreferrer"}},[t._v("view the site here on your own computer"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("To edit the site, "),a("a",{attrs:{href:"http://localhost:3000/login",target:"_blank",rel:"noopener noreferrer"}},[t._v("log in here"),a("OutboundLink")],1),t._v(". Click on the text on the page to start editing. "),a("strong",[t._v("Be sure to try selecting the text;")]),t._v(" you have many formatting options which appear only when text is selected.")]),t._v(" "),a("blockquote",[a("p",[t._v('You don\'t have to "save" anything because your changes are saved right away. However we plan to introduce a more intentional save button in alpha 2.')])]),t._v(" "),a("h2",{attrs:{id:"making-your-project-your-own"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#making-your-project-your-own"}},[t._v("#")]),t._v(" Making your project your own")]),t._v(" "),a("p",[t._v("First "),a("strong",[t._v("edit "),a("code",[t._v("app.js")]),t._v(" and change "),a("code",[t._v("shortName")]),t._v(" to "),a("code",[t._v("myproject")])]),t._v(" (replace with the folder name of your own project).")]),t._v(" "),a("p",[t._v("Then, to push your project to your own github, cut it loose from ours:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git remote rm origin\n")])])]),a("p",[t._v("Now create a "),a("code",[t._v("myproject")]),t._v(' repo on your own github account and follow their directions to "push an existing repository from the command line."')]),t._v(" "),a("h2",{attrs:{id:"editable-content-areas-in-apostrophe-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#editable-content-areas-in-apostrophe-3"}},[t._v("#")]),t._v(" Editable content areas in Apostrophe 3")]),t._v(" "),a("h3",{attrs:{id:"index-js-for-the-home-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#index-js-for-the-home-page"}},[t._v("#")]),t._v(" "),a("code",[t._v("index.js")]),t._v(" for the home page")]),t._v(" "),a("p",[t._v("You'll find this in "),a("code",[t._v("modules/@apostrophecms/home-page/index.js")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  options"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    label"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Home Page'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  fields"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    add"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      main"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'area'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        options"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          widgets"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@apostrophecms/rich-text'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              toolbar"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'styles'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'|'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bold'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'italic'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'strike'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'link'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'|'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bullet_list'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ordered_list'")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              styles"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                  tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'p'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                  label"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Paragraph (P)'")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                  tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'h3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                  label"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Heading 3 (H3)'")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                  tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'h4'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                  label"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Heading 4 (H4)'")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    group"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      basics"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        label"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Basics'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        fields"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'title'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'main'")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v('"What\'s changed from A2 in this code?"')])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Project-level modules now reside in "),a("code",[t._v("./modules")]),t._v(", not "),a("code",[t._v("./lib/modules")]),t._v(".")])]),t._v(" "),a("li",[a("p",[t._v("Apostrophe's core modules like "),a("code",[t._v("@apostrophecms/home-page")]),t._v(' are namespaced now, just like newer npm modules. This is true even for modules that ship inside a "bundle" such as the '),a("code",[t._v("apostrophe")]),t._v(" npm module.")])]),t._v(" "),a("li",[a("p",[t._v("Even the home page has its own module, "),a("code",[t._v("@apostrophecms/home-page")]),t._v(". We're just configuring it here, so we don't have to use "),a("code",[t._v("extend")]),t._v(". But we will when we add a new page type to the site.")])]),t._v(" "),a("li",[a("p",[t._v("Ordinary module options like "),a("code",[t._v("label")]),t._v(" now go in an "),a("code",[t._v("options")]),t._v(" property, not at the top level.")])]),t._v(" "),a("li",[a("p",[t._v("Every area must be configured as part of the schema for a page type or piece type.")])]),t._v(" "),a("li",[a("p",[t._v("Fields are added to the module with the new "),a("code",[t._v("fields")]),t._v(" feature. New fields go in the "),a("code",[t._v("add")]),t._v(" property. You can also "),a("code",[t._v("remove")]),t._v(" fields by passing an array for "),a("code",[t._v("remove")]),t._v(". For convenience, fields are now configured as an object, rather than an array.")])])]),t._v(" "),a("h3",{attrs:{id:"the-template-for-the-home-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-template-for-the-home-page"}},[t._v("#")]),t._v(" The template for the home page")]),t._v(" "),a("p",[t._v("Check out "),a("code",[t._v("modules/@apostrophecms/home-page/views/page.html")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("{% extends \"layout.html\" %}\n\n{% block main %}\n  {% area data.page, 'main' %}\n{% endblock %}\n")])])]),a("p",[a("strong",[t._v('"What\'s changed from A2 in this code?"')])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Areas are added to the template with the new "),a("code",[t._v("area")]),t._v(" nunjucks tag. There is no "),a("code",[t._v("apos.area")]),t._v(" helper function anymore.")])]),t._v(" "),a("li",[a("p",[t._v("You don't configure the area here. You do that in the "),a("code",[t._v("index.js")]),t._v(" file for the page type or piece type. In the template you just pass the page and the name of the area.")])])]),t._v(" "),a("h3",{attrs:{id:"adding-more-standard-widgets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adding-more-standard-widgets"}},[t._v("#")]),t._v(" Adding more standard widgets")]),t._v(" "),a("p",[t._v("Try adding more sub-properties to "),a("code",[t._v("widgets")]),t._v(" in "),a("code",[t._v("index.js")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@apostrophecms/video'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@apostrophecms/raw-html'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@apostrophecms/image'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("You will also need to configure a CSS class for the image widget, because A3 does not impose strong opinions on your front end code. First make a folder for project-level configuration of the image-widget module:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("mkdir modules/@apostrophecms/image-widget\n")])])]),a("p",[t._v("Then you can configure it:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// in modules/@apostrophecms/image-widget/index.js\nmodule.exports = {\n  options: {\n    className: 'a3-widget-image'\n  }\n};\n")])])]),a("p",[t._v("Now you can add CSS so images don't run off the page. Add this to "),a("code",[t._v("./src/index.scss")]),t._v(":")]),t._v(" "),a("p",[t._v(".a3-widget-image {\nmax-width: 100%;\n}")]),t._v(" "),a("blockquote",[a("p",[t._v("A3 comes with a still image widget, but it doesn't come with a slideshow widget, because everyone has their own preferred slideshow library. You can make your own widget that uses a relationship with images, or an array field, and write a widget player (TODO: document A3 widget players).")])]),t._v(" "),a("p",[t._v("When you make code changes the boilerplate project will automatically restart and refresh the browser. "),a("em",[t._v('Alpha note: if you get a "port in use" error, press control-C and start '),a("code",[t._v("npm run dev")]),t._v(" again. We're tracking down how to reliably reproduce this issue.")])])])}),[],!1,null,null,null);e.default=n.exports}}]);